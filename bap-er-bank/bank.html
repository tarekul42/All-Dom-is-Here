<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Functional Baap er Bank</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <header>
      <h1 class="text-5xl text-center mt-4">
        Functional <span class="text-red-500 font-medium">Baap-Er-Bank</span>!!!
      </h1>
    </header>
    <main>
      <!-- balance and tanjaction summary -->
      <section class="mt-8">
        <div class="grid grid-cols-3 gap-4 w-3/4 mx-auto text-white">
          <div class="bg-yellow-400 p-8 rounded-lg">
            <h4 class="text-3xl">Deposit</h4>
            <h2 class="text-5xl font-medium">
              $ <span id="deposit-total">00</span>
            </h2>
          </div>
          <div class="bg-red-400 p-8 rounded-lg">
            <h4 class="text-3xl">Withdraw</h4>
            <h2 class="text-5xl font-medium">
              $ <span id="withdraw-total">00</span>
            </h2>
          </div>
          <div class="bg-blue-400 p-8 rounded-lg">
            <h4 class="text-3xl">Balance</h4>
            <h2 class="text-5xl font-medium">
              $ <span id="balance-total">1240</span>
            </h2>
          </div>
        </div>
      </section>
      <!-- deposit and withdraw seecton -->
      <section class="mt-8 w-3/4 mx-auto">
        <div class="grid grid-cols-2 gap-4">
          <div class="bg-violet-400 rounded-lg p-8">
            <h3 class="text-4xl text-white mb-4">Your Deposit</h3>
            <input
              class="w-3/4 px-4 py-3 rounded block"
              type="text"
              name=""
              id="deposit-field"
              placeholder="$ Amount you want to deposit"
            />
            <button
              id="btn-deposit"
              class="bg-amber-400 px-6 py-2 rounded text-white font-medium hover:bg-violet-400 mt-4"
            >
              Deposit
            </button>
          </div>
          <div class="bg-amber-400 rounded-lg p-8">
            <h3 class="text-4xl text-white mb-4">Your Withdraw</h3>
            <input
              class="w-3/4 px-4 py-3 rounded block"
              type="text"
              name="withdraw"
              id="withdraw-field"
              placeholder="$ Amount you want to withdraw"
            />
            <button
              id="btn-withdraw"
              class="bg-violet-400 px-6 py-2 rounded text-white font-medium hover:bg-amber-400 mt-4"
            >
              Withdraw
            </button>
          </div>
        </div>
      </section>
    </main>
    <!-- <script src="js/deposit.js"></script> -->
    <!-- my javascript code is here -->
    <script>
      // make ready function
      function takeThevalue(idName){
        const textField = document.getElementById(idName);
        const textFieldValueString = textField.value;
        const textFieldValue = parseFloat(textFieldValueString);
        textField.value = '';
        return textFieldValue;
      }
      function takeTheInnertext(idName){
        const textField = document.getElementById(idName);
        const textFieldValueString = textField.innerText;
        const textFieldinnertext = parseFloat(textFieldValueString);
        return textFieldinnertext;
      }
      function setValue(idName, newValue){
        document.getElementById(idName).innerText = newValue;
      }

// deposit related kandokarkhana ekhane shob
      document.getElementById('btn-deposit').addEventListener('click', function(){
        const depositField = takeThevalue('deposit-field');
        if(isNaN(depositField)){
            alert('please provide a valid number')
            return;
        }
        const depositTotal = takeTheInnertext('deposit-total');
        const totalDeposit = depositField + depositTotal;
        setValue('deposit-total', totalDeposit);
        const previousBalanceField = takeTheInnertext('balance-total');
        const totalBalance = previousBalanceField + depositField;
        setValue('balance-total', totalBalance);
      });

// withdraw related kandokarkhana ekhane shob
      document.getElementById('btn-withdraw').addEventListener('click', function(){
        const withdrawField = takeThevalue('withdraw-field');
        if(isNaN(withdrawField)){
            alert('please provide a valid number')
            return;
        };
        const withdrawTotal = takeTheInnertext('withdraw-total');
        const totalWithdraw = withdrawField + withdrawTotal;
        setValue('withdraw-total', totalWithdraw);
        const previousBalanceField = takeTheInnertext('balance-total');
        if(withdrawField > previousBalanceField){
          alert('Baap er bank e eto taka nai')
          return;
        }
        const totalBalance = previousBalanceField - withdrawField;
        setValue('balance-total', totalBalance); 
      });
    </script>
  </body>
</html>
